<?xml version="1.0" encoding="utf-8" ?>
<otrs_package version="1.1">
    <Name>Znuny-Phone-Number-Recognition-Postmaster-Filter</Name>
    <Version>7.0.1</Version>
    <Vendor>mo-azfar</Vendor>
    <URL>https://github.com/mo-azfar/Znuny-Phone-Number-Recognition-Postmaster-Filter</URL>
    <License>GNU GENERAL PUBLIC LICENSE Version 3, 29 June 2007</License>
    <ChangeLog Date="2023-07-27 00:00:01" Version="1.0.1">New package.</ChangeLog>
    <Description Lang="en">Recognize phone number in mail body and set customer user based on registered phone number.</Description>
    <Framework>7.0.x</Framework>
    <IntroInstall Lang="en" Title="Install Information" Type="pre">
        &lt;br&gt;
        &lt;b&gt;WELCOME&lt;/b&gt;
        &lt;br&gt;
        &lt;br&gt;
        You are about to install the package Znuny-Phone-Number-Recognition-Postmaster-Filter.Check &lt;a href='https://github.com/mo-azfar/Znuny-Phone-Number-Recognition-Postmaster-Filter' target='_blank'&gt;README&lt;/a&gt;&lt;br&gt;
        &lt;br&gt;
        &lt;br&gt;
        ((enjoy))&lt;br&gt;
        &lt;br&gt;
    </IntroInstall>
    <BuildDate>2023-07-27 11:07:13</BuildDate>
    <BuildHost>app.myserver.com</BuildHost>
    <Filelist>
        <File Location="Kernel/Config/Files/XML/ZZZPhoneNumberRecognition.xml" Permission="660" Encode="Base64">PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxvdHJzX2NvbmZpZyB2ZXJzaW9uPSIyLjAiIGluaXQ9IkNvbmZpZyI+DQogICAgPFNldHRpbmcgTmFtZT0iUG9zdE1hc3Rlcjo6UHJlRmlsdGVyTW9kdWxlIyMjNC1QaG9uZU51bWJlclJlY29nbml0aW9uIiBSZXF1aXJlZD0iMCIgVmFsaWQ9IjEiPg0KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5SZWNvZ25pemUgaWYgYSBlbWFpbCBjb250YWlucyBwaG9uZSBudW1iZXIgaW4gaXQuPC9EZXNjcmlwdGlvbj4NCiAgICAgICAgPE5hdmlnYXRpb24+Q29yZTo6RW1haWw6OlBvc3RNYXN0ZXI8L05hdmlnYXRpb24+DQogICAgICAgIDxWYWx1ZT4NCiAgICAgICAgICAgIDxIYXNoPg0KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iTW9kdWxlIj5LZXJuZWw6OlN5c3RlbTo6UG9zdE1hc3Rlcjo6RmlsdGVyOjpQaG9uZU51bWJlclJlY29nbml0aW9uPC9JdGVtPg0KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iTmFtZSI+UGhvbmUgTnVtYmVyIFJlY29nbml0aW9uPC9JdGVtPg0KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iRnJvbUFkZHJlc3NSZWdFeHAiPmV4dGVybmFsLXN5c3RlbUBleGFtcGxlLmNvbTwvSXRlbT4NCiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9Ik51bWJlclJlZ0V4cCI+XHMqUGhvbmVOdW1iZXI6IChcZC4qKVxzKjwvSXRlbT4NCiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IlNlYXJjaEluQm9keSI+MTwvSXRlbT4NCiAgICAgICAgICAgIDwvSGFzaD4NCiAgICAgICAgPC9WYWx1ZT4NCiAgICA8L1NldHRpbmc+DQo8L290cnNfY29uZmlnPg0K</File>
        <File Location="Custom/Kernel/System/PostMaster/Filter/PhoneNumberRecognition.pm" Permission="660" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAwMS0yMDIxIE9UUlMgQUcsIGh0dHBzOi8vb3Rycy5jb20vCiMgQ29weXJpZ2h0IChDKSAyMDIxIFpudW55IEdtYkgsIGh0dHBzOi8vem51bnkub3JnLwojIENvcHlyaWdodCAoQykgMjAyMyBtby1hemZhciwgaHR0cHM6Ly9naXRodWIuY29tL21vLWF6ZmFyLwojIC0tCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChHUEwpLiBJZiB5b3UKIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cHM6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwtMy4wLnR4dC4KIyAtLQoKcGFja2FnZSBLZXJuZWw6OlN5c3RlbTo6UG9zdE1hc3Rlcjo6RmlsdGVyOjpQaG9uZU51bWJlclJlY29nbml0aW9uOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKb3VyIEBPYmplY3REZXBlbmRlbmNpZXMgPSAoCiAgICAnS2VybmVsOjpDb25maWcnLAoJJ0tlcm5lbDo6U3lzdGVtOjpDdXN0b21lclVzZXInLAopOwoKc3ViIG5ldyB7CiAgICBteSAoICRUeXBlLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgYWxsb2NhdGUgbmV3IGhhc2ggZm9yIG9iamVjdAogICAgbXkgJFNlbGYgPSB7fTsKICAgIGJsZXNzKCAkU2VsZiwgJFR5cGUgKTsKCiAgICAkU2VsZi0+e1BhcnNlck9iamVjdH0gPSAkUGFyYW17UGFyc2VyT2JqZWN0fSB8fCBkaWUgIkdvdCBubyBQYXJzZXJPYmplY3QiOwoKICAgICMgR2V0IGNvbW11bmljYXRpb24gbG9nIG9iamVjdCBhbmQgTWVzc2FnZUlELgogICAgJFNlbGYtPntDb21tdW5pY2F0aW9uTG9nT2JqZWN0fSA9ICRQYXJhbXtDb21tdW5pY2F0aW9uTG9nT2JqZWN0fSB8fCBkaWUgIkdvdCBubyBDb21tdW5pY2F0aW9uTG9nT2JqZWN0ISI7CgogICAgcmV0dXJuICRTZWxmOwp9CgpzdWIgUnVuIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgoJZm9yIG15ICROZWVkZWQgKHF3KEpvYkNvbmZpZyBHZXRQYXJhbSkpIHsKICAgICAgICBpZiAoICEkUGFyYW17JE5lZWRlZH0gKSB7CiAgICAgICAgICAgICRTZWxmLT57Q29tbXVuaWNhdGlvbkxvZ09iamVjdH0tPk9iamVjdExvZygKICAgICAgICAgICAgICAgIE9iamVjdExvZ1R5cGUgPT4gJ01lc3NhZ2UnLAogICAgICAgICAgICAgICAgUHJpb3JpdHkgICAgICA9PiAnRXJyb3InLAogICAgICAgICAgICAgICAgS2V5ICAgICAgICAgICA9PiAnS2VybmVsOjpTeXN0ZW06OlBvc3RNYXN0ZXI6OkZpbHRlcjo6UGhvbmVOdW1iZXJSZWNvZ25pdGlvbicsCiAgICAgICAgICAgICAgICBWYWx1ZSAgICAgICAgID0+ICJOZWVkICROZWVkZWQhIiwKICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KCiAgICAjIGNoZWNrIGlmIHNlbmRlciBpcyBvZiBpbnRlcmVzdAogICAgcmV0dXJuIDEgaWYgISRQYXJhbXtHZXRQYXJhbX0tPntGcm9tfTsKCiAgICBpZiAoIGRlZmluZWQgJFBhcmFte0pvYkNvbmZpZ30tPntGcm9tQWRkcmVzc1JlZ0V4cH0gJiYgJFBhcmFte0pvYkNvbmZpZ30tPntGcm9tQWRkcmVzc1JlZ0V4cH0gKQogICAgewoKICAgICAgICBpZiAoICRQYXJhbXtHZXRQYXJhbX0tPntGcm9tfSAhfiAvJFBhcmFte0pvYkNvbmZpZ30tPntGcm9tQWRkcmVzc1JlZ0V4cH0vaSApIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgfQoKICAgIG15ICROdW1iZXJSZWdFeHAgPSAkUGFyYW17Sm9iQ29uZmlnfS0+e051bWJlclJlZ0V4cH07CgogICAgIyBzZWFyY2ggaW4gdGhlIGJvZHkKICAgIGlmICggJFBhcmFte0pvYkNvbmZpZ30tPntTZWFyY2hJbkJvZHl9ICkgewoKICAgICAgICAjIHNwbGl0IHRoZSBib2R5IGludG8gc2VwYXJhdGUgbGluZXMKICAgICAgICBteSBAQm9keUxpbmVzID0gc3BsaXQgL1xuLywgJFBhcmFte0dldFBhcmFtfS0+e0JvZHl9OwoKICAgICAgICAjIHRyYXZlcnNlIGxpbmVzIGFuZCByZXR1cm4gZmlyc3QgbWF0Y2gKICAgICAgICBMSU5FOgogICAgICAgIGZvciBteSAkTGluZSAoQEJvZHlMaW5lcykgewogICAgICAgICAgICBpZiAoICRMaW5lID1+IG17JE51bWJlclJlZ0V4cH1tcyApIHsKCiAgICAgICAgICAgICAgICAjIGdldCB0aGUgZm91bmQgZWxlbWVudCB2YWx1ZQogICAgICAgICAgICAgICAgJFNlbGYtPntOdW1iZXJ9ID0gJDE7CiAgICAgICAgICAgICAgICBsYXN0IExJTkU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgIyB3ZSBuZWVkIHRvIGhhdmUgZm91bmQgYW4gcGhvbmUgbnVtYmVyIHRvIHByb2NlZWQuCiAgICBpZiAoICEkU2VsZi0+e051bWJlcn0gKSB7CiAgICAgICAgJFNlbGYtPntDb21tdW5pY2F0aW9uTG9nT2JqZWN0fS0+T2JqZWN0TG9nKAogICAgICAgICAgICBPYmplY3RMb2dUeXBlID0+ICdNZXNzYWdlJywKICAgICAgICAgICAgUHJpb3JpdHkgICAgICA9PiAnRGVidWcnLAogICAgICAgICAgICBLZXkgICAgICAgICAgID0+ICdLZXJuZWw6OlN5c3RlbTo6UG9zdE1hc3Rlcjo6RmlsdGVyOjpQaG9uZU51bWJlclJlY29nbml0aW9uJywKICAgICAgICAgICAgVmFsdWUgICAgICAgICA9PiAiQ291bGQgbm90IGZpbmQgY2FsbGVyIHBob25lIG51bWJlciA9PiBJZ25vcmluZyIsCiAgICAgICAgKTsKICAgICAgICByZXR1cm4gMTsKICAgIH0KICAgIGVsc2UgewogICAgICAgICRTZWxmLT57Q29tbXVuaWNhdGlvbkxvZ09iamVjdH0tPk9iamVjdExvZygKICAgICAgICAgICAgT2JqZWN0TG9nVHlwZSA9PiAnTWVzc2FnZScsCiAgICAgICAgICAgIFByaW9yaXR5ICAgICAgPT4gJ0RlYnVnJywKICAgICAgICAgICAgS2V5ICAgICAgICAgICA9PiAnS2VybmVsOjpTeXN0ZW06OlBvc3RNYXN0ZXI6OkZpbHRlcjo6UGhvbmVOdW1iZXJSZWNvZ25pdGlvbicsCiAgICAgICAgICAgIFZhbHVlICAgICAgICAgPT4gIkZvdW5kIHBob25lIG51bWJlciAkU2VsZi0+e051bWJlcn0iLAogICAgICAgICk7CiAgICB9CgoJbXkgJEN1c3RvbWVyVXNlck9iamVjdCA9ICAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6Q3VzdG9tZXJVc2VyJyk7CgkKCSNzZWFyY2ggY3VzdG9tZXIgZGF0YSBiYXNlZCBvbiBwaG9uZSBudW1iZXIKCW15ICRDdXN0b21lclVzZXJJRHNSZWYgPSAkQ3VzdG9tZXJVc2VyT2JqZWN0LT5DdXN0b21lclNlYXJjaERldGFpbCgKICAgICAgICBVc2VyTW9iaWxlICAgICAgICAgICAgICA9PiAkU2VsZi0+e051bWJlcn0sIAogICAgICAgICNEeW5hbWljRmllbGRfRmllbGROYW1lWCA9PiB7CiAgICAgICAgIyAgICBFcXVhbHMgICAgICAgICAgICA9PiAxMjMsCiAgICAgICAgIyAgICBMaWtlICAgICAgICAgICAgICA9PiAndmFsdWUqJywgICAgICAgICAgICAgICAgIyAiZXF1YWxzIiBvcGVyYXRvciB3aXRoIHdpbGRjYXJkIHN1cHBvcnQKICAgICAgICAjICAgIEdyZWF0ZXJUaGFuICAgICAgID0+ICcyMDAxLTAxLTAxIDAxOjAxOjAxJywKICAgICAgICAjICAgIEdyZWF0ZXJUaGFuRXF1YWxzID0+ICcyMDAxLTAxLTAxIDAxOjAxOjAxJywKICAgICAgICAjICAgIFNtYWxsZXJUaGFuICAgICAgID0+ICcyMDAyLTAyLTAyIDAyOjAyOjAyJywKICAgICAgICAjICAgIFNtYWxsZXJUaGFuRXF1YWxzID0+ICcyMDAyLTAyLTAyIDAyOjAyOjAyJywKICAgICAgICAjfSwKICAgICAgICBSZXN1bHQgPT4gJ0FSUkFZJywKICAgICAgICBMaW1pdCA9PiAxLAogICAgKTsKCQoJaWYgKCFAeyRDdXN0b21lclVzZXJJRHNSZWZ9KQoJewoJCSRTZWxmLT57Q29tbXVuaWNhdGlvbkxvZ09iamVjdH0tPk9iamVjdExvZygKCQkJT2JqZWN0TG9nVHlwZSA9PiAnTWVzc2FnZScsCgkJCVByaW9yaXR5ICAgICAgPT4gJ0RlYnVnJywKCQkJS2V5ICAgICAgICAgICA9PiAnS2VybmVsOjpTeXN0ZW06OlBvc3RNYXN0ZXI6OkZpbHRlcjo6UGhvbmVOdW1iZXJSZWNvZ25pdGlvbicsCgkJCVZhbHVlICAgICAgICAgPT4gIkN1c3RvbWVyIHVzZXIgbm90IGZvdW5kIGJ5ICRTZWxmLT57TnVtYmVyfSIsCgkJKTsKCX0KCWVsc2UKCXsKCQlmb3JlYWNoIG15ICRDdXN0b21lclVzZXJJRCAoQHskQ3VzdG9tZXJVc2VySURzUmVmfSkKCQl7CQoJCQkkU2VsZi0+e0NvbW11bmljYXRpb25Mb2dPYmplY3R9LT5PYmplY3RMb2coCgkJCQlPYmplY3RMb2dUeXBlID0+ICdNZXNzYWdlJywKCQkJCVByaW9yaXR5ICAgICAgPT4gJ0RlYnVnJywKCQkJCUtleSAgICAgICAgICAgPT4gJ0tlcm5lbDo6U3lzdGVtOjpQb3N0TWFzdGVyOjpGaWx0ZXI6OlBob25lTnVtYmVyUmVjb2duaXRpb24nLAoJCQkJVmFsdWUgICAgICAgICA9PiAiRm91bmQgY3VzdG9tZXIgdXNlciAkQ3VzdG9tZXJVc2VySUQgYnkgJFNlbGYtPntOdW1iZXJ9IiwKCQkJKTsKCQkJCgkJCSMgZ2V0IGN1c3RvbWVyIHVzZXIgZGF0YQoJCQlteSAlQ3VzdG9tZXJEYXRhID0gJEN1c3RvbWVyVXNlck9iamVjdC0+Q3VzdG9tZXJVc2VyRGF0YUdldCgKCQkJCVVzZXIgPT4gJEN1c3RvbWVyVXNlcklELAoJCQkpOwoJCQkKCQkJJFBhcmFte0dldFBhcmFtfS0+eydYLU9UUlMtQ3VzdG9tZXJVc2VyJ30gID0gJEN1c3RvbWVyVXNlcklEOwoJCQkKCQkJaWYgKCVDdXN0b21lckRhdGEpIHsKCQkJCSRQYXJhbXtHZXRQYXJhbX0tPnsnWC1PVFJTLUN1c3RvbWVyTm8nfSAgPSAkQ3VzdG9tZXJEYXRhe1VzZXJDdXN0b21lcklEfTs7CgkJCX0KCQl9Cgl9CgkKCXJldHVybiAxOwoKfQoKMTs=</File>
    </Filelist>
</otrs_package>